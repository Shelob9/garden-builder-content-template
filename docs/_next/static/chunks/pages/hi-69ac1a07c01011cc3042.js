_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[11],{"+kK8":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/hi",function(){return n("DORk")}])},"3vJe":function(e,t,n){"use strict";t.parse=function(e,t){if("string"!==typeof e)throw new TypeError("argument str must be a string");for(var n={},i=t||{},a=e.split(o),c=i.decode||r,u=0;u<a.length;u++){var f=a[u],p=f.indexOf("=");if(!(p<0)){var d=f.substr(0,p).trim(),l=f.substr(++p,f.length).trim();'"'==l[0]&&(l=l.slice(1,-1)),void 0==n[d]&&(n[d]=s(l,c))}}return n},t.serialize=function(e,t,n){var r=n||{},o=r.encode||i;if("function"!==typeof o)throw new TypeError("option encode is invalid");if(!a.test(e))throw new TypeError("argument name is invalid");var s=o(t);if(s&&!a.test(s))throw new TypeError("argument val is invalid");var c=e+"="+s;if(null!=r.maxAge){var u=r.maxAge-0;if(isNaN(u)||!isFinite(u))throw new TypeError("option maxAge is invalid");c+="; Max-Age="+Math.floor(u)}if(r.domain){if(!a.test(r.domain))throw new TypeError("option domain is invalid");c+="; Domain="+r.domain}if(r.path){if(!a.test(r.path))throw new TypeError("option path is invalid");c+="; Path="+r.path}if(r.expires){if("function"!==typeof r.expires.toUTCString)throw new TypeError("option expires is invalid");c+="; Expires="+r.expires.toUTCString()}r.httpOnly&&(c+="; HttpOnly");r.secure&&(c+="; Secure");if(r.sameSite){switch("string"===typeof r.sameSite?r.sameSite.toLowerCase():r.sameSite){case!0:c+="; SameSite=Strict";break;case"lax":c+="; SameSite=Lax";break;case"strict":c+="; SameSite=Strict";break;case"none":c+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return c};var r=decodeURIComponent,i=encodeURIComponent,o=/; */,a=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function s(e,t){try{return t(e)}catch(n){return e}}},BsWD:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("a3WO");function i(e,t){if(e){if("string"===typeof e)return Object(r.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(e,t):void 0}}},CiRD:function(e,t,n){"use strict";var r=n("ODXe"),i=n("mXGw"),o=n("Mthw");t.a=function(e){var t=function(e){var t=Object(i.useContext)(o.b);if(!t)throw new Error("Missing <CookiesProvider>");var n=t.getAll(),r=Object(i.useState)(n),a=r[0],s=r[1],c=Object(i.useRef)(a);return Object(i.useEffect)((function(){function n(){var n=t.getAll();(function(e,t,n){if(!e)return!0;for(var r=0,i=e;r<i.length;r++){var o=i[r];if(t[o]!==n[o])return!0}return!1})(e||null,n,c.current)&&s(n),c.current=n}return t.addChangeListener(n),function(){t.removeChangeListener(n)}}),[t]),[a,Object(i.useMemo)((function(){return t.set.bind(t)}),[t]),Object(i.useMemo)((function(){return t.remove.bind(t)}),[t])]}(["_garden_token"]),n=Object(r.a)(t,2),a=n[0],s=n[1];Object(i.useEffect)((function(){e.token&&s("_garden_token",e.token,{path:"/"})}),[a]);return{token:Object(i.useMemo)((function(){return a._garden_token||void 0}),[a]),removeCookie:function(){s("_garden_token",void 0,{path:"/",expires:new Date(3)})}}}},DORk:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return c}));var r=n("mXGw"),i=n.n(r),o=n("ntO7"),a=n("YbmN"),s=i.a.createElement;function c(e){e.name;var t=Object(a.a)(),n=t.isLoggedIn,c=t.userDisplayName,u=t.isSessionLoading,f=Object(o.a)({}),p=f.createUrl,d=f.createHeaders;return Object(r.useEffect)((function(){fetch(p("/api/notes"),{headers:d()}).then((function(e){return e.json()})).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))})),s("div",null,u?s("div",null,"Loading"):s(i.a.Fragment,null,s("p",null,"Hi ",n?c:"Roy")))}},Mthw:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("mXGw"),i=n("vj+v").a,o=r.createContext(new i),a=o.Provider;o.Consumer,t.b=o},ODXe:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("BsWD");function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(c){i=!0,o=c}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,t)||Object(r.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},Qetd:function(e,t,n){"use strict";var r=Object.assign.bind(Object);e.exports=r,e.exports.default=e.exports},YbmN:function(e,t,n){"use strict";var r=n("ntO7"),i=n("mXGw"),o=n("CiRD");t.a=function(){var e=Object(r.a)({}).createUrl,t=Object(i.useState)(!0),n=t[0],a=t[1],s=Object(i.useState)(!0),c=s[0],u=s[1],f=Object(o.a)({}).token,p=Object(i.useState)(void 0),d=p[0],l=p[1];return Object(i.useEffect)((function(){if(!f)return u(!1),void a(!1);fetch(e("/api/session"),{method:"POST",headers:{"content-type":"application/json",Authorization:f}}).then((function(e){return e.json()})).then((function(e){a(!1),e.session?u(!0):u(!1),e.user&&(e.user.name?l(e.user.name):l("Roy"))}))}),[f]),{isLoggedIn:c,userDisplayName:d,isSessionLoading:n}}},a3WO:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",(function(){return r}))},ntO7:function(e,t,n){"use strict";function r(e){var t="https://digitalgardenbuilder.app",n="".concat(t,"/login?publicKey=").concat("346ed52b9fa674fa85630987bc97a8b27f49");return{createUrl:function(e){return"".concat(t).concat(e)},createHeaders:function(){return e.token?{"Content-Type":"application/json",Authorization:e.token,"x-garden-public":"346ed52b9fa674fa85630987bc97a8b27f49"}:{"Content-Type":"application/json","x-garden-public":"346ed52b9fa674fa85630987bc97a8b27f49"}},gardenServerUrl:t,loginLink:n}}n.d(t,"a",(function(){return r}))},"vj+v":function(e,t,n){"use strict";var r=n("3vJe");function i(e,t){void 0===t&&(t={});var n=function(e){if(e&&"j"===e[0]&&":"===e[1])return e.substr(2);return e}(e);if(function(e,t){return"undefined"===typeof t&&(t=!e||"{"!==e[0]&&"["!==e[0]&&'"'!==e[0]),!t}(n,t.doNotParse))try{return JSON.parse(n)}catch(r){}return e}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},a=function(){function e(e,t){var n=this;this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.cookies=function(e,t){return"string"===typeof e?r.parse(e,t):"object"===typeof e&&null!==e?e:{}}(e,t),new Promise((function(){n.HAS_DOCUMENT_COOKIE="object"===typeof document&&"string"===typeof document.cookie})).catch((function(){}))}return e.prototype._updateBrowserValues=function(e){this.HAS_DOCUMENT_COOKIE&&(this.cookies=r.parse(document.cookie,e))},e.prototype._emitChange=function(e){for(var t=0;t<this.changeListeners.length;++t)this.changeListeners[t](e)},e.prototype.get=function(e,t,n){return void 0===t&&(t={}),this._updateBrowserValues(n),i(this.cookies[e],t)},e.prototype.getAll=function(e,t){void 0===e&&(e={}),this._updateBrowserValues(t);var n={};for(var r in this.cookies)n[r]=i(this.cookies[r],e);return n},e.prototype.set=function(e,t,n){var i;"object"===typeof t&&(t=JSON.stringify(t)),this.cookies=o(o({},this.cookies),((i={})[e]=t,i)),this.HAS_DOCUMENT_COOKIE&&(document.cookie=r.serialize(e,t,n)),this._emitChange({name:e,value:t,options:n})},e.prototype.remove=function(e,t){var n=t=o(o({},t),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=o({},this.cookies),delete this.cookies[e],this.HAS_DOCUMENT_COOKIE&&(document.cookie=r.serialize(e,"",n)),this._emitChange({name:e,value:void 0,options:t})},e.prototype.addChangeListener=function(e){this.changeListeners.push(e)},e.prototype.removeChangeListener=function(e){var t=this.changeListeners.indexOf(e);t>=0&&this.changeListeners.splice(t,1)},e}();t.a=a}},[["+kK8",0,1]]]);